close all; clear; clc; 

% objective: plot points from csv file of columns x and y

filename = '20250408_straight.csv';
%load(filename)
M = csvread(filename,1,0); % skipping the labels reading one row from the top
M(:,1) = M(:,1) - 7.2098

M(1,:) = []; % remove first and second row
M(end,:) = [];


figure(1)
scatter(M(:,1), M(:,2))
hold on
grid on 
axis equal
title('Straight Barrel')



x0 = mean(M(:,1))
y0 = mean(M(:,2));

scatter(x0,y0,MarkerFaceColor='red')


a = std(M(:,1));
b = std(M(:,2));

theta = linspace(0, 2*pi, 100); 

xc = x0 + a * cos(theta);
yc = y0 + b * sin(theta);

% Plot the ellipse

plot(xc, yc, 'blue--', 'LineWidth',2);  

hold off

%% 3 barrel
filename = '20250408_3_barrel.csv';
%load(filename)
M = csvread(filename,1,0) % skipping the labels reading one row from the top

M(1,:) = []; % remove first and second row
M(end,:) = [];

5.1245

figure(2)
scatter(M(:,1), M(:,2))
grid on 
axis equal
title('3 barrel')
hold on



x0 = mean(M(:,1))
y0 = mean(M(:,2));

scatter(x0,y0,MarkerFaceColor='red')


a = std(M(:,1));
b = std(M(:,2));

theta = linspace(0, 2*pi, 100); 

xc = x0 + a * cos(theta);
yc = y0 + b * sin(theta);

% Plot the ellipse

plot(xc, yc, 'blue--', 'LineWidth',2);  
hold off